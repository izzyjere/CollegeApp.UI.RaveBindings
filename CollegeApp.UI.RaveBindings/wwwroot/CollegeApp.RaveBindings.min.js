function loadJs() {
    var script = document.createElement('script');
    script.src = '_content/CollegeApp.UI.RaveBindings/flutterwave-checkout-v3.js';
    script.type = 'text/javascript';
    document.getElementsByTagName('body')[0].appendChild(script);
    console.log("loaded flutterwave js.");
}
loadJs();
export function makePayment(publicKey, paymentOptions, currency, amount, tranRef, customer, customerId, customerMac, phone, email, title, description, logo = "", dotNetHelper) {
    const modal = FlutterwaveCheckout({
        public_key: publicKey,
        tx_ref: tranRef,
        amount: amount,
        currency: currency,
        payment_options: paymentOptions,
        meta: {
            consumer_id: customerId,
            consumer_mac: customerMac,
        },
        customer: {
            email: email,
            phone_number: phone,
            name: customer,
        },
        customizations: {
            title: title,
            description: description,
            logo: logo,
        },
        callback: function (payment) {
            // Verify Payment
            var json = JSON.stringify(payment);
            dotNetHelper.invokeMethodAsync("PaymentComplete", json);
            modal.close();
        },
        onclose: function (incomplete) {
            if (incomplete === true) {
                dotNetHelper.invokeMethodAsync("PaymentFailed", json);
                modal.close();
            }
        }
    });
}